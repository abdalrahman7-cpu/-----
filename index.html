<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>â¤ Ù„Ù…Ø±ÙŠÙˆÙ…ØªÙŠ â¤</title>
<style>
  :root{
    --pink1:#ff4d6d; --pink2:#ff9eb3; --bgwhite:#fff;
  }
  html,body{
    height:100%;
    margin:0;
    padding:0;
    font-family: "Cairo", "Segoe UI", Tahoma, Arial;
    direction:rtl;
    background: #ffeef2;
    background-image:
      radial-gradient(circle, #ff9eb3 2px, transparent 3px),
      radial-gradient(circle, #ff4d6d 2px, transparent 3px);
    background-position: 0 0, 20px 20px;
    background-size: 40px 40px;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:row;
    gap:20px;
    padding:28px;
  }

  h1{
    position: fixed;
    top: 10px;
    width: 100%;
    margin:0;
    color:var(--pink1);
    font-size:28px;
    text-align:center;
    text-shadow:0 4px 18px rgba(255,77,109,0.18);
    z-index: 20;
  }

  .stage{
    position:relative;
    width:420px;
    max-width:92vw;
    display:flex;
    flex-direction:column;
    align-items:center;
  }

  .wheel-container {
    position: relative;
    width: 400px;
    height: 400px;
    border-radius: 50%;
    box-shadow: 0 18px 40px rgba(255,77,109,0.3);
    background: linear-gradient(135deg, #ff9eb3 0%, #ff4d6d 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: visible;
  }

  canvas{
    width: 360px;
    height: 360px;
    border-radius: 50%;
    background: #fff;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    position: relative;
    z-index: 20;
  }

  .pointer{
    position:absolute;
    top:46px;
    left:50%;
    transform:translateX(-50%);
    width:0;
    height:0;
    border-left:22px solid transparent;
    border-right:22px solid transparent;
    border-bottom:34px solid var(--pink1);
    z-index:30;
    filter:drop-shadow(0 6px 14px rgba(0,0,0,0.25));
  }

  #result{
    margin-top:14px;
    font-weight:800;
    color:var(--pink1);
    font-size:18px;
    text-align:center;
    min-height:48px;
    padding:6px 12px;
    background:rgba(255,255,255,0.6);
    border-radius:10px;
    width: 360px;
    z-index: 10;
  }

  button{
    margin-top:12px;
    padding:10px 18px;
    border-radius:10px;
    border:none;
    background:linear-gradient(90deg,var(--pink1),#ff7aa3);
    color:#111;
    font-weight:700;
    cursor:pointer;
    box-shadow:0 10px 24px rgba(255,77,109,0.14);
    z-index: 10;
  }

  .character {
    position: absolute;
    width: 90px;
    height: 90px;
    z-index: 5;
    user-select: none;
  }
  .character.kitty {
    left: -60px;
    bottom: 40px;
  }
  .character.my-melody {
    right: -60px;
    bottom: 40px;
  }

  .heart{
    position:fixed;
    top:-10px;
    font-size:18px;
    z-index:5;
    pointer-events:none;
    animation:fall linear forwards;
    filter:drop-shadow(0 6px 10px rgba(0,0,0,0.12));
  }
  @keyframes fall{ to{ transform:translateY(110vh) rotate(30deg); opacity:0 } }

  @media (max-width:480px){
    body {
      flex-direction: column;
    }
    canvas{
      width: 280px;
      height: 280px;
    }
    #result{
      font-size:16px;
      width: 280px;
    }
    .character {
      width: 60px;
      height: 60px;
    }
    .character.kitty {
      left: -40px;
      bottom: 25px;
    }
    .character.my-melody {
      right: -40px;
      bottom: 25px;
    }
  }
</style>
</head>
<body>
  <h1>Wheel of Love</h1>

  <div class="stage">
    <div class="pointer"></div>
    <div class="wheel-container">
      <div class="character kitty">
        <img src="https://i.imgur.com/S4H8Y8M.png" alt="Hello Kitty">
      </div>
      <div class="character my-melody">
        <img src="https://i.imgur.com/RMqK8iD.png" alt="My Melody">
      </div>
      <canvas id="wheel" width="400" height="400"></canvas>
    </div>
    <div id="result">ÙŠØ§ ØªØ±Ù‰ Ø¨Ø­Ø¨Ùƒ Ù„ÙŠÙ‡ØŸ ğŸ’˜</div>
    <button id="spinBtn">Ø¯ÙˆÙ‘Ø± Ø§Ù„Ø¹Ø¬Ù„Ø©</button>
  </div>

  <!-- Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø¹Ø§Ø±Ù Ø­Ø¨ÙŠØ¨ÙŠ -->
  <iframe width="0" height="0" 
    src="https://www.youtube.com/embed/tqlh6VRh1jU?autoplay=1&loop=1" 
    frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

<script>
const reasons = [
  "Ø¨Ø­Ø¨Ùƒ Ø¹Ø´Ø§Ù† Ø¶Ø­ÙƒØªÙƒ Ø§Ù„Ù„ÙŠ Ø¨ØªÙ†Ø³ÙŠÙ†ÙŠ Ø£ÙŠ Ù‡Ù… ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ â¤",
  "Ø¨Ø­Ø¨Ùƒ Ø¹Ø´Ø§Ù† Ø¹ÙŠÙˆÙ†Ùƒ Ø§Ù„Ù„ÙŠ Ø£Ø­Ù„Ù‰ Ù…Ù† Ø§Ù„Ø³Ù…Ø§ Ø¨Ù†Ø¬ÙˆÙ…Ù‡Ø§ â¤",
  "Ø¨Ø­Ø¨Ùƒ Ø¹Ø´Ø§Ù† ÙƒÙ„ Ù„Ø­Ø¸Ø© Ø¨Ù‚Ø¶ÙŠÙ‡Ø§ Ù…Ø¹Ø§ÙƒÙŠ Ø¨ØªÙƒÙˆÙ† Ø£Ø¬Ù…Ù„ Ù„Ø­Ø¸Ø© ÙÙŠ Ø­ÙŠØ§ØªÙŠ â¤",
  "Ø¨Ø­Ø¨Ùƒ Ø¹Ø´Ø§Ù† ÙˆØ¬ÙˆØ¯Ùƒ ÙÙŠ Ø­ÙŠØ§ØªÙŠ Ù‡Ùˆ Ø£Ø¬Ù…Ù„ Ù‡Ø¯ÙŠØ© Ø¬ØªÙ„ÙŠ Ù…Ù† Ø±Ø¨Ù†Ø§ â¤",
  "Ø¨Ø­Ø¨Ùƒ Ø¹Ø´Ø§Ù† Ø¶Ø­ÙƒØªÙƒ Ø§Ù„Ù„ÙŠ Ø¨ØªØ·Ù…Ù† Ù‚Ù„Ø¨ÙŠ ÙˆØ¨ØªØ®Ù„ÙŠÙ†ÙŠ Ø§Ù†Ø³Ù‰ ÙƒÙ„ Ø§Ù„ØªØ¹Ø¨ â¤",
  "Ø¨Ø­Ø¨Ùƒ Ø¹Ø´Ø§Ù† ÙˆØ¬ÙˆØ¯Ùƒ Ù…Ø¹Ø§ÙŠØ§ Ø¨ÙŠØ®Ù„ÙŠÙ†ÙŠ Ø£Ø­Ø³ Ø¥Ù†ÙŠ Ù…Ø´ Ù„ÙˆØ­Ø¯ÙŠ ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ â¤",
  "Ø¨Ø­Ø¨Ùƒ Ø¹Ø´Ø§Ù† ØµÙˆØªÙƒ Ø§Ù„Ù„ÙŠ ÙƒÙ„ Ù„Ù…Ø§ Ø¨Ø³Ù…Ø¹ÙÙ‡ Ø¨ØªØ·Ù…Ù† ÙˆØ§Ø­Ø³ Ø§Ù† Ù„Ø³Ù‡ ÙÙŠ Ø³Ø¨Ø¨ Ø§Ø¹ÙŠØ´ Ù„ÙŠÙ‡ â¤",
  "Ø¨Ø­Ø¨Ùƒ Ø¹Ø´Ø§Ù† Ø±ÙˆØ­Ùƒ Ø§Ù„Ù„ÙŠ Ù…ÙÙŠØ´ Ø§Ø¬Ù…Ù„ Ù…Ù†Ù‡Ø§ ÙŠØ§ Ù…Ù„Ø§ÙƒÙŠ â¤"
];

const canvas = document.getElementById('wheel');
const ctx = canvas.getContext('2d');
const W = canvas.width, H = canvas.height;
const cx = W/2, cy = H/2, radius = Math.min(W,H)/2 - 6;
let baseAngle = 0;
const seg = (2*Math.PI) / reasons.length;
const colors = ["#ffd6e0","#ffb3c9","#ffd1e8","#ff9eb3","#ffe6f0","#ffddeb","#ffd1e9"];

function drawWheel(angle){
  ctx.clearRect(0,0,W,H);
  for(let i=0;i<reasons.length;i++){
    const start = angle + i*seg;
    const end = start + seg;
    ctx.beginPath();
    ctx.moveTo(cx,cy);
    ctx.arc(cx,cy,radius,start,end);
    ctx.closePath();
    ctx.fillStyle = colors[i % colors.length];
    ctx.fill();
  }
  ctx.beginPath(); ctx.arc(cx,cy,56,0,Math.PI*2); ctx.fillStyle = "#fff"; ctx.fill();
  ctx.fillStyle = "#111"; ctx.font = "700 18px sans-serif"; ctx.textAlign = "center"; ctx.fillText("Ø­ÙØ¨",cx,cy+6);
}
drawWheel(baseAngle);

let spinning = false;
function spin(){
  if(spinning) return;
  spinning = true;
  let velocity = 0.35 + Math.random()*0.6;
  const friction = 0.992 + Math.random()*0.004;
  function step(){
    baseAngle += velocity;
    velocity *= friction;
    drawWheel(baseAngle);
    if (velocity < 0.002){
      spinning = false;
      let a = ((-baseAngle + Math.PI/2) % (2*Math.PI) + 2*Math.PI) % (2*Math.PI);
      const idx = Math.floor(a / seg) % reasons.length;
      document.getElementById('result').textContent = "Ø§Ù„Ø¹Ø¬Ù„Ø© Ø¨ØªÙ‚ÙˆÙ„Ùƒ: " + reasons[idx];
      burstHearts(18);
    } else {
      requestAnimationFrame(step);
    }
  }
  requestAnimationFrame(step);
}
document.getElementById('spinBtn').addEventListener('click', spin);

function burstHearts(n){
  for(let i=0;i<n;i++){
    const heart=document.createElement("div");
    heart.className="heart";
    heart.textContent="ğŸ’–";
    heart.style.left=Math.random()*100+"vw";
    heart.style.animationDuration=(2+Math.random()*3)+"s";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),5000);
  }
}
</script>
</body>
</html>
